<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Details</title>
</head>
<body>
    <h1>Order Details</h1>

    <h2>Order #<%= order._id %></h2>
    <p>Status: <%= order.status %></p>
    <p>Total Amount: $<%= order.totalAmount %></p>
    <p>Placed on: <%= order.createdAt.toDateString() %></p>

    <h3>Items</h3>
    <ul>
        <% order.items.forEach(item => { %>
            <li>
                <%= item.variant.productId.name %> - Color: <%= item.variant.color %>, 
                Storage: <%= item.variant.storage %>, RAM: <%= item.variant.RAM %>
                <br>Quantity: <%= item.quantity %>
            </li>
        <% }) %>
    </ul>

    <% if(order.status === 'Pending') { %>
        <form action="/orders/<%= order._id %>/cancel" method="POST">
            <button type="submit" class="btn btn-danger">Cancel Order</button>
        </form>
    <% } %>

    <a href="/orders">Back to Order History</a>
</body>
</html>
